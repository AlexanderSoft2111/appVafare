<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title><strong>{{titulo}}</strong></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title><strong>{{titulo}}</strong> </ion-title>
    </ion-toolbar>
  </ion-header>


    <ion-grid class="pt-5">
        <form [formGroup]="articuloForm" (ngSubmit)="generarPdfSvg()"><!-- (ngSubmit)="generarPdf()" -->

          <ion-row class="ion-justify-content-center mb-1">
              <ion-col sizeXs="12" sizeSm="10" sizeMd="7" sizeLg="7" sizeXl="6">
                  <div class="text-center mb-3">
                      <ion-icon class="icon-person" [ios]="'barcode'" [md]="'barcode'"></ion-icon>
                  </div>
                  <!-- <h3 class="text-center m-3 subtitulo">Nuevo</h3> -->
                  <p class="text-center normal m-0">{{descripcion}}</p>
              </ion-col>

              <ion-col sizeXs="12" sizeSm="10" class="card-content p-md-3">

                  <mat-card style="padding: 25px;">
                      <ion-row>
                      <ion-col size="5">
                        <ion-item lines="none" detail="false" class="none">
                            <ion-label class="subtitulo m-0">
                                Información del código:
                            </ion-label>
                        </ion-item>

                        <div class="row">
                            <div class="col">

                                <mat-form-field class="full-width normal">
                                    <input class="normal" maxlength="13" matInput
                                           placeholder="código"
                                           formControlName="codigo"
                                           (change)="valuechangeInput()">
                                    @if (campoNoValido('codigo')) {
                                      <mat-error class="normal">El código <strong>es requerido</strong>
                                      </mat-error>
                                    }
                                </mat-form-field>

                                <mat-form-field  class="full-width normal">
                                    <mat-label>Selecionar número de impresiones</mat-label>
                                    <mat-select >
                                      @for (numero of numeros; track $index) {
                                        <mat-option [value]="numero.value" (click)="posicion(numero.value)">
                                            {{numero.viewValue}}
                                        </mat-option>
                                      }
                                    </mat-select>

                                    @if (campoinValido) {
                                      <mat-error class="normal red">
                                      Debe seleccionar el <strong class="black">numero de impresiones</strong>
                                      </mat-error>
                                    }
                                </mat-form-field>

                            </div>
                        </div>


                      </ion-col>
                      <ion-col size="1">

                      </ion-col>
                      <ion-col size="6">
                        <ion-item lines="none" detail="false" class="none">
                            <ion-label class="subtitulo m-0">
                               Vista código de baras:
                            </ion-label>
                        </ion-item>

                        <div class="row" id='contenido'>
                            <div class="col" >

                              <ngx-barcode6
                              [bc-element-type]="elementType"
                                [bc-value]='value'
                                [bc-format]="format"
                                [bc-line-color]="lineColor"
                                [bc-width]="width"
                                [bc-height]="height"
                                [bc-display-value]="displayValue"
                                [bc-font-options]="fontOptions"
                                [bc-font]="font"
                                [bc-text-align]="textAlign"
                                [bc-text-position]="textPosition"
                                [bc-text-margin]="textMargin"
                                [bc-font-size]="fontSize"
                                [bc-background]="background"
                                [bc-margin]="margin"
                                [bc-margin-top]="marginTop"
                                [bc-margin-bottom]="marginBottom"
                                [bc-margin-left]="marginLeft"
                                [bc-margin-right]="marginRight"
                              ></ngx-barcode6>

                            </div>
                        </div>

                      </ion-col>
                      </ion-row>

                  </mat-card>
              </ion-col>


          </ion-row>

          <ion-row class="ion-justify-content-center mb-5">
              <ion-col sizeXs="12" sizeSm="10" class="text-right">
                  <button type="submit"  style="background: none; border: none;">
                      <ion-item button class="none" lines="none" detail="false" class="button-next">
                          <ion-label class="normal font-weight-bold" style="color: white !important;">
                              Generar Pdf
                          </ion-label>
                          <ion-buttons  slot="end">
                              <ion-button>
                                  <ion-icon slot="icon-only" [ios]="'save-outline'" [md]="'save-sharp'"></ion-icon>
                              </ion-button>
                          </ion-buttons>
                      </ion-item>
                  </button>
              </ion-col>
          </ion-row>
      </form>

    </ion-grid>

</ion-content>
